<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starseed - Unlock Your Name's Soul Vibration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .brand-font {
            font-family: 'Playfair Display', serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-morphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        /* Style for table headers */
        th {
            @apply px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider bg-gray-100;
        }
        /* Style for table cells */
        td {
            @apply px-4 py-3 whitespace-nowrap text-sm text-gray-800;
            transition: all 0.3s ease;
        }
        /* Add borders to the table */
        table {
            @apply min-w-full divide-y divide-gray-200 border border-gray-200;
        }
        /* Add alternating row colors */
        tbody tr:nth-child(even) {
            @apply bg-gray-50;
        }
        /* Style for highlighted cells */
        .highlight {
            @apply bg-gradient-to-r from-purple-300 to-blue-300 font-bold text-gray-800 transform scale-105;
        }
        .star-glow {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 text-gray-900">

    <div class="container mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Cover Image -->
        <div class="mb-8">
            <img src="assets/cover.png" alt="Starseed" class="w-full max-w-2xl mx-auto rounded-lg shadow-sm">
        </div>

        <!-- Description Text -->
        <div class="text-center mb-8 max-w-4xl mx-auto px-4">
            <h2 class="text-2xl font-light text-gray-800 mb-3">
                Unlock the soul vibration of your name
            </h2>
            <p class="text-lg text-gray-600 leading-relaxed">
                Discover your Namakshara (name syllable) and explore the cosmic connection between your name and the stars
            </p>
        </div>

        <!-- Search Section -->
        <section id="search-section" class="max-w-4xl mx-auto mb-12">
            <div class="glass-morphism rounded-2xl p-8 shadow-2xl">
                <div class="flex flex-col sm:flex-row gap-4 mb-6">
                    <input type="text" id="name-input"
                           placeholder="Enter your full name (e.g., John Smith)"
                           class="flex-grow w-full px-6 py-4 text-lg text-gray-700 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300">
                    <button id="find-button"
                            class="w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-lg font-semibold rounded-xl hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-300 transform hover:scale-105 shadow-lg">
                        Discover My Starseed
                    </button>
                </div>
                <div id="results-display" class="min-h-[100px] text-center"></div>
            </div>
        </section>

        <!-- Nakshatra Reference Table -->
        <main class="mb-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 brand-font mb-2">Nakshatra Reference Guide</h2>
                <p class="text-gray-600">Explore all 27 Nakshatras and their corresponding syllables</p>
            </div>

            <div class="glass-morphism rounded-2xl p-6 shadow-xl">
                <div class="overflow-x-auto">
                    <table id="nakshatra-table" class="min-w-full">
                        <thead class="bg-gradient-to-r from-purple-100 to-blue-100">
                            <tr>
                                <th class="rounded-tl-xl">Nakshatra</th>
                                <th>1st Pada</th>
                                <th>2nd Pada</th>
                                <th>3rd Pada</th>
                                <th>4th Pada</th>
                                <th>Nakshatra</th>
                                <th>1st Pada</th>
                                <th>2nd Pada</th>
                                <th>3rd Pada</th>
                                <th class="rounded-tr-xl">4th Pada</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Ashwini</td>
                                <td class="text-center font-medium">Chu</td>
                                <td class="text-center font-medium">Che</td>
                                <td class="text-center font-medium">Cho</td>
                                <td class="text-center font-medium">La</td>
                                <td class="font-semibold text-purple-700">Swati</td>
                                <td class="text-center font-medium">Ru</td>
                                <td class="text-center font-medium">Re</td>
                                <td class="text-center font-medium">Ro</td>
                                <td class="text-center font-medium">Ta</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Bharani</td>
                                <td class="text-center font-medium">Lee</td>
                                <td class="text-center font-medium">Lu</td>
                                <td class="text-center font-medium">Le</td>
                                <td class="text-center font-medium">Lo</td>
                                <td class="font-semibold text-purple-700">Vishakha</td>
                                <td class="text-center font-medium">Ti</td>
                                <td class="text-center font-medium">Te</td>
                                <td class="text-center font-medium">Tu</td>
                                <td class="text-center font-medium">To</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Krittika</td>
                                <td class="text-center font-medium">Aa</td>
                                <td class="text-center font-medium">Ee</td>
                                <td class="text-center font-medium">U</td>
                                <td class="text-center font-medium">E</td>
                                <td class="font-semibold text-purple-700">Anuradha</td>
                                <td class="text-center font-medium">Na</td>
                                <td class="text-center font-medium">Ni</td>
                                <td class="text-center font-medium">Nu</td>
                                <td class="text-center font-medium">Ne</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Rohini</td>
                                <td class="text-center font-medium">O</td>
                                <td class="text-center font-medium">Va</td>
                                <td class="text-center font-medium">Vi</td>
                                <td class="text-center font-medium">Vu</td>
                                <td class="font-semibold text-purple-700">Jyeshtha</td>
                                <td class="text-center font-medium">No</td>
                                <td class="text-center font-medium">Ya</td>
                                <td class="text-center font-medium">Yi</td>
                                <td class="text-center font-medium">Yu</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Mrigashira</td>
                                <td class="text-center font-medium">Ve</td>
                                <td class="text-center font-medium">Vo</td>
                                <td class="text-center font-medium">Ka</td>
                                <td class="text-center font-medium">Ke</td>
                                <td class="font-semibold text-purple-700">Mula</td>
                                <td class="text-center font-medium">Ye</td>
                                <td class="text-center font-medium">Yo</td>
                                <td class="text-center font-medium">Ba</td>
                                <td class="text-center font-medium">Bi</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Ardra</td>
                                <td class="text-center font-medium">Ku</td>
                                <td class="text-center font-medium">Gha</td>
                                <td class="text-center font-medium">Na</td>
                                <td class="text-center font-medium">Chha</td>
                                <td class="font-semibold text-purple-700">Purva Ashadha</td>
                                <td class="text-center font-medium">Bu</td>
                                <td class="text-center font-medium">Dha</td>
                                <td class="text-center font-medium">Bha</td>
                                <td class="text-center font-medium">Pha</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Punarvasu</td>
                                <td class="text-center font-medium">Ke</td>
                                <td class="text-center font-medium">Ko</td>
                                <td class="text-center font-medium">Ha</td>
                                <td class="text-center font-medium">Hi</td>
                                <td class="font-semibold text-purple-700">Uttara Ashadha</td>
                                <td class="text-center font-medium">Bhe</td>
                                <td class="text-center font-medium">Bho</td>
                                <td class="text-center font-medium">Ja</td>
                                <td class="text-center font-medium">Ji</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Pushya</td>
                                <td class="text-center font-medium">Hu</td>
                                <td class="text-center font-medium">He</td>
                                <td class="text-center font-medium">Ho</td>
                                <td class="text-center font-medium">Da</td>
                                <td class="font-semibold text-purple-700">Shravana</td>
                                <td class="text-center font-medium">Khi</td>
                                <td class="text-center font-medium">Khu</td>
                                <td class="text-center font-medium">Khe</td>
                                <td class="text-center font-medium">Kho</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Ashlesha</td>
                                <td class="text-center font-medium">Di</td>
                                <td class="text-center font-medium">Du</td>
                                <td class="text-center font-medium">De</td>
                                <td class="text-center font-medium">Do</td>
                                <td class="font-semibold text-purple-700">Dhanishta</td>
                                <td class="text-center font-medium">Ga</td>
                                <td class="text-center font-medium">Gi</td>
                                <td class="text-center font-medium">Gu</td>
                                <td class="text-center font-medium">Ge</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Magha</td>
                                <td class="text-center font-medium">Ma</td>
                                <td class="text-center font-medium">Mi</td>
                                <td class="text-center font-medium">Mu</td>
                                <td class="text-center font-medium">Me</td>
                                <td class="font-semibold text-purple-700">Shatabhisha</td>
                                <td class="text-center font-medium">Go</td>
                                <td class="text-center font-medium">Sa</td>
                                <td class="text-center font-medium">Si</td>
                                <td class="text-center font-medium">Su</td>
                            </tr>
                              <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Purva Phalguni</td>
                                <td class="text-center font-medium">Mo</td>
                                <td class="text-center font-medium">Ta</td>
                                <td class="text-center font-medium">Ti</td>
                                <td class="text-center font-medium">Tu</td>
                                <td class="font-semibold text-purple-700">Purva Bhadrapada</td>
                                <td class="text-center font-medium">Se</td>
                                <td class="text-center font-medium">So</td>
                                <td class="text-center font-medium">Da</td>
                                <td class="text-center font-medium">Di</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Uttara Phalguni</td>
                                <td class="text-center font-medium">Te</td>
                                <td class="text-center font-medium">To</td>
                                <td class="text-center font-medium">Pa</td>
                                <td class="text-center font-medium">Pi</td>
                                <td class="font-semibold text-purple-700">Uttara Bhadrapada</td>
                                <td class="text-center font-medium">Du</td>
                                <td class="text-center font-medium">Tha</td>
                                <td class="text-center font-medium">Jha</td>
                                <td class="text-center font-medium">Na</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Hasta</td>
                                <td class="text-center font-medium">Pu</td>
                                <td class="text-center font-medium">Sha</td>
                                <td class="text-center font-medium">Na</td>
                                <td class="text-center font-medium">Tha</td>
                                <td class="font-semibold text-purple-700">Revati</td>
                                <td class="text-center font-medium">De</td>
                                <td class="text-center font-medium">Do</td>
                                <td class="text-center font-medium">Cha</td>
                                <td class="text-center font-medium">Chi</td>
                            </tr>
                            <tr class="hover:bg-purple-25">
                                <td class="font-semibold text-purple-700">Chitra</td>
                                <td class="text-center font-medium">Pe</td>
                                <td class="text-center font-medium">Po</td>
                                <td class="text-center font-medium">Ra</td>
                                <td class="text-center font-medium">Re</td>
                                <td class="font-semibold text-purple-700 bg-gray-100">Abhijit</td>
                                <td class="text-center font-medium bg-gray-100">Ju</td>
                                <td class="text-center font-medium bg-gray-100">Je</td>
                                <td class="text-center font-medium bg-gray-100">Jo</td>
                                <td class="text-center font-medium bg-gray-100">Kh</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- About Section -->
        <section class="max-w-4xl mx-auto mb-12">
            <div class="glass-morphism rounded-2xl p-8 shadow-xl text-center">
                <h3 class="text-2xl font-bold text-gray-800 brand-font mb-6">About Starseed</h3>
                <div class="space-y-6 text-left max-w-3xl mx-auto">
                    <p class="text-gray-600 leading-relaxed text-lg">
                        The Starseed system connects your name to the ancient wisdom of the Nakshatras -
                        the 27 lunar mansions that form the foundation of Vedic astrology. Each syllable
                        of your name carries a unique cosmic vibration that aligns with specific stellar energies.
                    </p>
                    <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-xl border-l-4 border-purple-400">
                        <p class="text-gray-700 leading-relaxed italic text-lg">
                            Every name of a person, place, or organization has a core syllable which creates a certain vibration -
                            and that vibration is linked to a Nakshatra (lunar mansion or collection of stars). This syllable
                            is like the seed which grows into a tree to yield a fruit (title or name). Just as a seed is for a tree,
                            a syllable is for a name. Due to the relationship between this seed syllable and the vibrational
                            energy of stars, we call this system "Starseed."
                        </p>
                    </div>
                    <p class="text-gray-600 leading-relaxed text-lg">
                        By discovering your Namakshara, you can gain deeper insights into your personality,
                        life path, and spiritual connection to the universe.
                    </p>
                </div>
            </div>
        </section>

        <footer class="text-center py-8 border-t border-gray-200">
            <div class="max-w-4xl mx-auto px-4">
                <p class="text-sm text-gray-500 mb-4">&copy; 2025 Starseed. All Rights Reserved.</p>
                <div class="flex justify-center items-center space-x-6 text-sm">
                    <button onclick="showPrivacyNotice()" class="text-purple-600 hover:text-purple-800 underline transition-colors">
                        Privacy Notice
                    </button>
                    <span class="text-gray-300">|</span>
                    <a href="https://github.com/dchaluvaraju/starseed.git" target="_blank" class="text-purple-600 hover:text-purple-800 underline transition-colors">
                        View Source
                    </a>
                </div>
            </div>
        </footer>

        <!-- Privacy Notice Modal -->
        <div id="privacyModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto shadow-2xl">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex justify-between items-center">
                            <h2 class="text-2xl font-bold text-gray-800 brand-font">Privacy Notice</h2>
                            <button onclick="hidePrivacyNotice()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                        </div>
                    </div>
                    <div class="p-6 text-gray-700 leading-relaxed">
                        <p class="mb-4"><strong>Last Updated:</strong> October 5, 2025</p>

                        <p class="mb-6">
                            Starseed is a web application that helps you discover the Nakshatra (Lunar Mansion) associated with your name using the Avakahada Chakra system from Vedic astrology. This privacy notice explains how we handle your personal data in compliance with the UK General Data Protection Regulation (UK GDPR).
                        </p>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">What Data We Process</h3>
                        <ul class="list-disc pl-6 mb-6 space-y-2">
                            <li><strong>Name:</strong> When you enter your name into the Starseed webapp, we process it to identify its core syllable and map it to a corresponding Nakshatra.</li>
                            <li><strong>No Other Data:</strong> We do not collect or process any additional personal information, such as email addresses, IP addresses, or other identifiers.</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">How We Process Your Data</h3>
                        <ul class="list-disc pl-6 mb-6 space-y-2">
                            <li><strong>Client-Side Processing:</strong> Your name is processed entirely in your browser using JavaScript. No data is sent to or stored on our servers.</li>
                            <li><strong>No Storage:</strong> We do not store your name or any other personal data after processing. The data is used only to display your Nakshatra result during your session.</li>
                            <li><strong>No Third-Party Sharing:</strong> Your name is not shared with any third parties, including analytics services or external tools.</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">Lawful Basis for Processing</h3>
                        <p class="mb-6">
                            We process your name based on your implied consent, provided by voluntarily entering your name to receive a Nakshatra result. You may withdraw this consent by not using the webapp.
                        </p>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">Your Rights</h3>
                        <p class="mb-6">
                            Under UK GDPR, you have rights over your personal data, including the right to access, rectify, or erase it. Since Starseed does not store your data, there is no stored data to access or erase. If you have questions about your rights, please contact us.
                        </p>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">Hosting and Security</h3>
                        <ul class="list-disc pl-6 mb-6 space-y-2">
                            <li>Starseed is hosted on GitHub Pages, a static hosting service. No server-side logging of your name occurs.</li>
                            <li>We use Tailwind CSS and vanilla JavaScript, ensuring no external dependencies collect your data.</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">International Users</h3>
                        <p class="mb-6">
                            If you access Starseed from the European Union, the EU GDPR may apply. This notice meets both UK and EU GDPR transparency requirements. We do not target EU users specifically, but our practices ensure compliance for all users.
                        </p>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">Changes to This Notice</h3>
                        <p class="mb-6">
                            We may update this notice to reflect changes in our practices or legal requirements. The latest version will be posted on our GitHub repository and webapp.
                        </p>

                        <h3 class="text-lg font-semibold mb-3 text-purple-800">Contact Us</h3>
                        <p class="mb-6">
                            If you have questions about this privacy notice or how we handle your data, please contact us through our GitHub repository.
                        </p>

                        <p class="text-center text-purple-600 font-medium">
                            Thank you for using Starseed! ðŸŒŸ
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get references to DOM elements
            const nameInput = document.getElementById('name-input');
            const findButton = document.getElementById('find-button');
            const resultsDisplay = document.getElementById('results-display');
            const nakshatraTable = document.getElementById('nakshatra-table').querySelector('tbody');

            // --- Create a mapping of all possible padas for efficient lookup ---
            const allPadas = new Set();
            const padaCells = nakshatraTable.querySelectorAll('td:not(:first-child):not(:nth-child(6))');
            padaCells.forEach(cell => {
                allPadas.add(cell.textContent.trim().toLowerCase());
            });

            // --- Transliteration map for phonetic matching ---
            const transliterationMap = {
                'a': ['a', 'i', 'u', 'e', 'o'], 'b': ['ba', 'bi', 'be', 'bo', 'bha', 'bhu'], 'c': ['cha', 'chi', 'chu', 'che', 'cho', 'chha'],
                'ch': ['cha', 'chi', 'chu', 'che', 'cho', 'chha'], 'd': ['da', 'di', 'du', 'de', 'do', 'dha'], 'dh': ['dha', 'dhi', 'dhu', 'dhe', 'dho'],
                'g': ['ga', 'gi', 'gu', 'ge', 'go', 'gha'], 'gh': ['gha', 'ghi', 'ghu', 'ghe', 'gho'], 'h': ['ha', 'hi', 'hu', 'he', 'ho'],
                'j': ['ja', 'ji', 'ju', 'je', 'jo', 'jha', 'jna'], 'k': ['ka', 'ki', 'ku', 'ke', 'ko', 'kha'], 'kh': ['kha', 'khi', 'khu', 'khe', 'kho'],
                'l': ['la', 'li', 'lu', 'le', 'lo'], 'm': ['ma', 'mi', 'mu', 'me', 'mo'], 'n': ['na', 'ni', 'nu', 'ne', 'no', 'nga'],
                'p': ['pa', 'pi', 'pu', 'pe', 'po'], 'ph': ['pha', 'phi', 'phu', 'phe', 'pho'], 'r': ['ra', 'ri', 'ru', 're', 'ro'],
                's': ['sa', 'si', 'su', 'se', 'so'], 'sh': ['sha', 'shi', 'shu', 'she', 'sho'], 't': ['ta', 'ti', 'tu', 'te', 'to', 'tha'],
                'th': ['tha', 'thi', 'thu', 'the', 'tho'], 'v': ['va', 'vi', 'vu', 've', 'vo'], 'w': ['va', 'vi', 'vu', 've', 'vo'],
                'y': ['ya', 'yi', 'yu', 'ye', 'yo'],
            };

            // --- Function to handle the search ---
            const findNamakshara = () => {
                clearHighlights();
                resultsDisplay.innerHTML = '';
                const name = nameInput.value.trim().toLowerCase();
                if (!name) {
                    resultsDisplay.innerHTML = `<p class="text-red-500 text-center">Please enter a name.</p>`;
                    return;
                }
                const words = name.split(/\s+/);
                const foundSyllables = new Map();

                words.forEach(word => {
                    if (!word) return;
                    let matchFound = false;

                    // Priority 1: Direct Match (e.g., "che" in "chetan")
                    for (let len = 4; len >= 2 && !matchFound; len--) {
                        if (word.length >= len) {
                            const syllable = word.substring(0, len);
                            if (allPadas.has(syllable)) {
                                if (!foundSyllables.has(syllable)) {
                                    foundSyllables.set(syllable, { word: word });
                                }
                                matchFound = true;
                            }
                        }
                    }

                    if (matchFound) {
                        return; // Found a direct match, so skip phonetic search for this word
                    }

                    // Priority 2: Phonetic Mapping if no direct match was found
                    let startingSound = (word.length >= 2 && transliterationMap[word.substring(0, 2)]) ? word.substring(0, 2) : word.substring(0, 1);
                    const possiblePadas = transliterationMap[startingSound];
                    if (possiblePadas) {
                        // Loop through phonetic possibilities and stop at the FIRST match.
                        for (const pada of possiblePadas) {
                            if (allPadas.has(pada)) {
                                if (!foundSyllables.has(pada)) {
                                    foundSyllables.set(pada, { word: word });
                                }
                                matchFound = true;
                                break; // Stop after finding the first valid phonetic match
                            }
                        }
                    }
                });

                if (foundSyllables.size > 0) {
                    highlightAndDisplay(foundSyllables);
                } else {
                    resultsDisplay.innerHTML = `<p class="text-center text-gray-600">No matching Namakshara found for "${nameInput.value}". Please check the spelling or try a different name.</p>`;
                }
            };

            // --- Nakshatra data with all columns ---
            const nakshatraData = {
                'Ashwini': { modernName: 'Beta Arietis', symbol: 'Horse Head', rulingPlanet: 'Ketu', deity: 'Ashwini Kumaras' },
                'Bharani': { modernName: '35 Arietis', symbol: 'Yoni (Womb)', rulingPlanet: 'Venus', deity: 'Yama' },
                'Krittika': { modernName: 'Pleiades (Alcyone)', symbol: 'Razor/Knife', rulingPlanet: 'Sun', deity: 'Agni' },
                'Rohini': { modernName: 'Aldebaran', symbol: 'Cart/Chariot', rulingPlanet: 'Moon', deity: 'Brahma' },
                'Mrigashira': { modernName: 'Lambda Orionis', symbol: 'Serpent/Head of Deer', rulingPlanet: 'Mars', deity: 'Soma' },
                'Ardra': { modernName: 'Betelgeuse', symbol: 'Teardrop', rulingPlanet: 'Rahu', deity: 'Rudra' },
                'Punarvasu': { modernName: 'Castor and Pollux', symbol: 'Bow and Quiver', rulingPlanet: 'Jupiter', deity: 'Aditi' },
                'Pushya': { modernName: 'Delta Cancri', symbol: 'Cow\'s Udder/Flower', rulingPlanet: 'Saturn', deity: 'Brihaspati' },
                'Ashlesha': { modernName: 'Alpha Hydrae', symbol: 'Coiled Serpent', rulingPlanet: 'Mercury', deity: 'Nagas' },
                'Magha': { modernName: 'Regulus', symbol: 'Throne/Palankeen', rulingPlanet: 'Ketu', deity: 'Pitris' },
                'Purva Phalguni': { modernName: 'Delta Leonis', symbol: 'Hammock/Front Legs of Bed', rulingPlanet: 'Venus', deity: 'Bhaga' },
                'Uttara Phalguni': { modernName: 'Denebola', symbol: 'Rear Legs of Bed', rulingPlanet: 'Sun', deity: 'Aryaman' },
                'Hasta': { modernName: 'Delta Corvi', symbol: 'Hand/Palm', rulingPlanet: 'Moon', deity: 'Savitar' },
                'Chitra': { modernName: 'Spica', symbol: 'Pearl/Jewel', rulingPlanet: 'Mars', deity: 'Vishvakarma' },
                'Swati': { modernName: 'Arcturus', symbol: 'Coral/Sapling in Wind', rulingPlanet: 'Rahu', deity: 'Vayu' },
                'Vishakha': { modernName: 'Alpha Librae', symbol: 'Triumphal Arch/Potter\'s Wheel', rulingPlanet: 'Jupiter', deity: 'Indra-Agni' },
                'Anuradha': { modernName: 'Delta Scorpii', symbol: 'Lotus/Umbrella', rulingPlanet: 'Saturn', deity: 'Mitra' },
                'Jyeshtha': { modernName: 'Antares', symbol: 'Earring/Umbrella', rulingPlanet: 'Mercury', deity: 'Indra' },
                'Mula': { modernName: 'Lambda Scorpii', symbol: 'Roots/Tail of Lion', rulingPlanet: 'Ketu', deity: 'Nirriti' },
                'Purva Ashadha': { modernName: 'Delta Sagittarii', symbol: 'Fan/Winnowing Basket', rulingPlanet: 'Venus', deity: 'Apah' },
                'Uttara Ashadha': { modernName: 'Sigma Sagittarii', symbol: 'Elephant Tusk/Mango Plank', rulingPlanet: 'Sun', deity: 'Vishvadevas' },
                'Shravana': { modernName: 'Altair', symbol: 'Ear/Three Footprints', rulingPlanet: 'Moon', deity: 'Vishnu' },
                'Dhanishta': { modernName: 'Alpha Delphini', symbol: 'Drum/Flute', rulingPlanet: 'Mars', deity: 'Vasus' },
                'Shatabhisha': { modernName: 'Lambda Aquarii', symbol: 'Circle/1000 Flowers', rulingPlanet: 'Rahu', deity: 'Varuna' },
                'Purva Bhadrapada': { modernName: 'Alpha Pegasi', symbol: 'Two-Faced Man/Sword', rulingPlanet: 'Jupiter', deity: 'Aja Ekapada' },
                'Uttara Bhadrapada': { modernName: 'Gamma Pegasi', symbol: 'Twins/Serpent in Water', rulingPlanet: 'Saturn', deity: 'Ahirbudhnya' },
                'Revati': { modernName: 'Zeta Piscium', symbol: 'Fish/Drum', rulingPlanet: 'Mercury', deity: 'Pushan' }
            };

            // --- Function to highlight cells and display detailed results ---
            const highlightAndDisplay = (syllablesMap) => {
                let resultsHTML = '<h3 class="text-2xl font-bold mb-6 text-center text-purple-800 brand-font">âœ¨ Your Complete Starseed Profile âœ¨</h3>';
                resultsHTML += '<div class="max-w-6xl mx-auto">';
                resultsHTML += '<div class="grid grid-cols-1 gap-8">';
                const alreadyDisplayed = new Set(); // Use a unique key to track displayed results

                nakshatraTable.querySelectorAll('tr').forEach((row, rowIndex) => {
                    row.querySelectorAll('td').forEach((cell, cellIndex) => {
                        const cellText = cell.textContent.trim().toLowerCase();
                        if (syllablesMap.has(cellText)) {
                            // Extract info
                            const isLeftHalf = cellIndex > 0 && cellIndex < 5;
                            const nakshatraCellIndex = isLeftHalf ? 0 : 5;
                            const padaNumber = isLeftHalf ? cellIndex : cellIndex - 5;
                            const nakshatraName = row.cells[nakshatraCellIndex].textContent;

                            // Create a unique key for this result (e.g., "da-Pushya") to handle cases like two 'Da's
                            const uniqueKey = `${cellText}-${nakshatraName}`;

                            // Check if this unique result has been displayed
                            if (!alreadyDisplayed.has(uniqueKey)) {
                                // Highlight cells
                                cell.classList.add('highlight');

                                // Get additional nakshatra information
                                const nakshatraInfo = nakshatraData[nakshatraName] || { symbol: 'N/A', rulingPlanet: 'N/A', deity: 'N/A' };

                                // Build HTML for this result card - comprehensive display
                                resultsHTML += `
                                    <div class="mx-auto max-w-5xl">
                                        <div class="bg-gradient-to-br from-white via-purple-50 to-blue-50 rounded-3xl border-2 border-purple-200 shadow-2xl hover:shadow-purple-300/50 transition-all duration-500 transform hover:scale-[1.02] p-8">
                                            <!-- Header with syllable and basic info -->
                                            <div class="text-center mb-8">
                                                <div class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full shadow-xl mb-4">
                                                    <span class="text-3xl font-bold text-white brand-font">
                                                        ${capitalize(cellText)}
                                                    </span>
                                                </div>
                                                <p class="text-lg text-purple-600 font-medium mb-2">Your Soul Syllable</p>
                                                <p class="text-sm text-gray-600 italic">From "${syllablesMap.get(cellText).word}"</p>
                                            </div>

                                            <!-- Complete information grid -->
                                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Nakshatra</p>
                                                    <p class="text-lg font-bold text-purple-700 brand-font">${nakshatraName}</p>
                                                </div>
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Modern Astronomical Name</p>
                                                    <p class="text-sm font-semibold text-blue-700">${nakshatraInfo.modernName}</p>
                                                </div>
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Pada</p>
                                                    <p class="text-2xl font-bold text-indigo-700">${padaNumber}</p>
                                                </div>
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Symbol</p>
                                                    <p class="text-sm font-semibold text-green-700">${nakshatraInfo.symbol}</p>
                                                </div>
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Ruling Planet</p>
                                                    <p class="text-sm font-semibold text-orange-700">${nakshatraInfo.rulingPlanet}</p>
                                                </div>
                                                <div class="bg-white/70 rounded-xl p-4 backdrop-blur-sm text-center">
                                                    <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Deity</p>
                                                    <p class="text-sm font-semibold text-purple-700">${nakshatraInfo.deity}</p>
                                                </div>
                                            </div>

                                            <!-- Cosmic constellation visual -->
                                            <div class="flex justify-center items-center mb-6">
                                                <div class="relative">
                                                    <!-- Star pattern background -->
                                                    <div class="absolute inset-0 flex items-center justify-center">
                                                        <div class="w-40 h-40 border-2 border-purple-200 rounded-full opacity-20"></div>
                                                        <div class="absolute w-32 h-32 border border-purple-300 rounded-full opacity-30"></div>
                                                        <div class="absolute w-24 h-24 border border-purple-400 rounded-full opacity-40"></div>
                                                    </div>
                                                    <!-- Central star representing the nakshatra -->
                                                    <div class="relative z-10 w-10 h-10 bg-gradient-to-br from-yellow-400 via-orange-400 to-red-500 rounded-full shadow-2xl animate-pulse"></div>
                                                    <!-- Orbiting dots representing planetary influences -->
                                                    <div class="absolute inset-0 animate-spin" style="animation-duration: 8s;">
                                                        <div class="absolute top-0 left-1/2 w-2 h-2 bg-purple-400 rounded-full shadow-lg transform -translate-x-1/2 -translate-y-1/2"></div>
                                                    </div>
                                                    <div class="absolute inset-0 animate-spin" style="animation-duration: 12s; animation-direction: reverse;">
                                                        <div class="absolute bottom-0 left-1/2 w-1.5 h-1.5 bg-blue-400 rounded-full shadow-lg transform -translate-x-1/2 translate-y-1/2"></div>
                                                    </div>
                                                    <div class="absolute inset-0 animate-spin" style="animation-duration: 15s;">
                                                        <div class="absolute left-0 top-1/2 w-1.5 h-1.5 bg-green-400 rounded-full shadow-lg transform -translate-x-1/2 -translate-y-1/2"></div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Comprehensive mystical description -->
                                            <div class="bg-gradient-to-r from-purple-100 via-blue-50 to-indigo-100 rounded-2xl p-6 border border-purple-200">
                                                <div class="text-center">
                                                    <h4 class="text-lg font-bold text-purple-800 mb-3 brand-font">Your Cosmic Connection</h4>
                                                    <p class="text-gray-700 leading-relaxed mb-4">
                                                        The syllable "<span class="font-bold text-purple-600">${capitalize(cellText)}</span>" in your name
                                                        resonates with <span class="font-bold text-blue-600">${nakshatraName}</span>
                                                        (modern name: <span class="font-semibold text-indigo-600">${nakshatraInfo.modernName}</span>),
                                                        whose sacred symbol is <span class="font-semibold text-green-600">${nakshatraInfo.symbol}</span>.
                                                    </p>
                                                    <p class="text-gray-700 leading-relaxed mb-4">
                                                        This cosmic connection is guided by <span class="font-bold text-orange-600">${nakshatraInfo.rulingPlanet}</span>
                                                        and blessed by <span class="font-bold text-purple-700">${nakshatraInfo.deity}</span>,
                                                        bridging ancient celestial wisdom with modern astronomical understanding.
                                                    </p>
                                                    <div class="bg-white/50 rounded-lg p-3 mt-4">
                                                        <p class="text-sm italic text-gray-600">
                                                            ðŸŒŸ <strong>Starseed Insight:</strong> Your name carries the vibrational essence of
                                                            <span class="font-semibold text-indigo-600">${nakshatraInfo.modernName}</span>,
                                                            connecting you to both ancient spiritual wisdom and modern cosmic understanding.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;

                                // Add the unique key to the set to prevent duplicates
                                alreadyDisplayed.add(uniqueKey);
                            }
                        }
                    });
                });
                resultsHTML += '</div></div>';
                resultsDisplay.innerHTML = resultsHTML;
            };

            // --- Helper function to clear highlights from all table cells ---
            const clearHighlights = () => {
                document.querySelectorAll('.highlight').forEach(cell => {
                    cell.classList.remove('highlight');
                });
            };

            // --- Helper function to capitalize the first letter ---
            const capitalize = (s) => s.charAt(0).toUpperCase() + s.slice(1);

            // --- Event Listeners ---
            findButton.addEventListener('click', findNamakshara);
            nameInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    findNamakshara();
                }
            });

            // Add smooth focus animation
            nameInput.addEventListener('focus', function() {
                this.classList.add('ring-4', 'ring-purple-300');
            });

            nameInput.addEventListener('blur', function() {
                this.classList.remove('ring-4', 'ring-purple-300');
            });

            // Privacy Notice Modal Functions
            window.showPrivacyNotice = function() {
                document.getElementById('privacyModal').classList.remove('hidden');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            };

            window.hidePrivacyNotice = function() {
                document.getElementById('privacyModal').classList.add('hidden');
                document.body.style.overflow = 'auto'; // Restore scrolling
            };
        });
    </script>
</body>
</html>
